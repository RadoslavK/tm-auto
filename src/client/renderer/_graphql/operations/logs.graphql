#import "./misc.graphql"

fragment LogEntry on LogEntry {
    id
    timestamp {
        ...Timestamp
    }
    village {
        id
        coords {
            ...Coords
        }
        name
    }
    content {
        ... on TextLogEntryContent {
            message
            messageType
        }
        ... on AutoBuildLogEntryContent {
            fieldId
            level
            name
            type
        }
        ... on AutoUnitsLogEntryContent {
            amount
            index
            tribe
            unitName
        }
        ...on ResourceClaimLogEntryContent {
            reason
            resources {
                ...Resources
            }
        }
    }
}

query GetLogs {
    logsEntries {
        ...LogEntry
    }
}

subscription OnLogEntryAdded {
    onLogEntryAdded {
        ...LogEntry
    }
}
