#import "./misc.graphql"

mutation ClearQueue($villageId: Int!) {
    clearQueue(villageId: $villageId)
}

mutation EnqueueBuilding($input: EnqueueBuildingInput!) {
    enqueueBuilding(input: $input)
}

mutation DequeueBuilding($input: DequeueBuildingInput!) {
    dequeueBuilding(input: $input)
}

mutation DequeueBuildingAtField($input: DequeueBuildingAtFieldInput!) {
    dequeueBuildingAtField(input: $input)
}

mutation MoveQueuedBuildingAsHighAsPossible($villageId: Int!, $queueId: ID!) {
    moveQueuedBuildingAsHighAsPossible(villageId: $villageId, queueId: $queueId)
}

fragment QueuedBuilding on QueuedBuilding {
    cost {
        ...Cost
    }
    fieldId
    level
    name
    queueId
    queueIndex
    type
}

fragment QueuedBuildingRange on QueuedBuildingRange {
    buildings {
        ...QueuedBuilding
    }
    cost {
        ...Cost
    }
    fieldId
    id
    name
    type
}

fragment BuildingQueue on BuildingQueue {
    buildingRanges {
        ...QueuedBuildingRange
    }
    totalCost {
        ...Cost
    }
}

query GetQueuedBuildings($villageId: Int!) {
    buildingQueue(villageId: $villageId) {
        ...BuildingQueue
    }
}

query CanMoveQueuedBuildingToIndex($villageId: Int!, $queueId: String!, $index: Int!) {
    canMoveQueuedBuildingToIndex(villageId: $villageId, queueId: $queueId, index: $index)
}

query CanMoveQueuedBuildingsBlockToIndex ($villageId: Int!, $topBuildingQueueId: String!, $bottomBuildingQueueId: String!, $index: Int!) {
    canMoveQueuedBuildingsBlockToIndex(villageId: $villageId, topBuildingQueueId: $topBuildingQueueId, bottomBuildingQueueId: $bottomBuildingQueueId, index: $index)
}

subscription OnQueueUpdated($villageId: Int!) {
    onQueueUpdated(villageId: $villageId) {
        ...BuildingQueue
    }
}

mutation MoveQueuedBuildingToIndex($villageId: Int!, $queueId: String!, $index: Int!) {
    moveQueuedBuildingToIndex(villageId: $villageId, queueId: $queueId, index: $index)
}

mutation MoveQueuedBuildingsBlockToIndex($villageId: Int!, $topBuildingQueueId: String!, $bottomBuildingQueueId: String!, $index: Int!) {
    moveQueuedBuildingsBlockToIndex(villageId: $villageId, topBuildingQueueId: $topBuildingQueueId, bottomBuildingQueueId: $bottomBuildingQueueId, index: $index)
}