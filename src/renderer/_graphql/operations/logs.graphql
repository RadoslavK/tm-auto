#import "./misc.graphql"

fragment LogEntry on LogEntry {
  timestamp {
    ...Timestamp
  }
  village {
    id
    coords {
      ...Coords
    }
    name
  }
  content {
    ... on TextLogEntryContent {
      message
      messageType
    }
    ... on AutoBuildLogEntryContent {
      fieldId
      level
      name
      type
    }
    ... on AutoUnitsLogEntryContent {
      amount
      index
      tribe
      unitName
    }
    ... on ResourceClaimLogEntryContent {
      reason
      resources {
        ...Resources
      }
    }
  }
}

query GetLogEntries {
  logEntries {
    ...LogEntry
  }
}

subscription OnLogEntryAdded {
  logEntryAdded {
    ...LogEntry
  }
}
