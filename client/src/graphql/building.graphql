fragment BuildingSpotFragment on BuildingSpot {
    fieldId
    level {
        actual
        inProgress
        queued
    }
    type
}

fragment CostFragment on Cost {
    wood
    clay
    iron
    crop
    freeCrop
}

query GetBuildingSpots($villageId: Int!) {
    buildingSpots(villageId: $villageId) {
        infrastructure {
            ...BuildingSpotFragment
        }
        resources {
            wood {
                ...BuildingSpotFragment
            }
            clay {
                ...BuildingSpotFragment
            }
            iron {
                ...BuildingSpotFragment
            }
            crop {
                ...BuildingSpotFragment
            }
        }
    }
}

query GetQueuedBuildings($villageId: Int!) {
    buildingQueue(villageId: $villageId) {
        buildings {
            cost {
                ...CostFragment
            }
            level
            name
            time
            queueIndex
        }
        totalBuildingTime
        totalCost {
            ...CostFragment
        }
    }
}

query GetBuildingsInProgress($villageId: Int!) {
    buildingsInProgress(villageId: $villageId) {
        level
        time
        type
    }
}

query GetAvailableNewBuildings($villageId: Int!) {
    availableNewBuildings(villageId: $villageId) {
        imageLink
        name
        type
    }
}

mutation ClearQueue($villageId: Int!) {
    clearQueue(villageId: $villageId)
}

mutation EnqueueBuilding($input: EnqueueBuildingInput) {
    enqueueBuilding(input: $input)
}

mutation DequeueBuilding($input: DequeueBuildingInput) {
    dequeueBuilding(input: $input)
}
