fragment BuildingSpotFragment on BuildingSpot {
    fieldId
    level {
        actual
        max
        ongoing
        queued
        total
    }
    name
    type
}

fragment CostFragment on Cost {
    wood
    clay
    iron
    crop
    total
    freeCrop
}

query GetBuildingSpots($villageId: Int!) {
    buildingSpots(villageId: $villageId) {
        infrastructure {
            ...BuildingSpotFragment
        }
        resources {
            wood {
                ...BuildingSpotFragment
            }
            clay {
                ...BuildingSpotFragment
            }
            iron {
                ...BuildingSpotFragment
            }
            crop {
                ...BuildingSpotFragment
            }
        }
    }
}

query GetQueuedBuildings($villageId: Int!) {
    buildingQueue(villageId: $villageId) {
        buildings {
            canMoveDown
            canMoveUp
            cost {
                ...CostFragment
            }
            level
            name
            time
            type
            queueId
        }
        totalBuildingTime
        totalCost {
            ...CostFragment
        }
    }
}

query GetBuildingsInProgress($villageId: Int!) {
    buildingsInProgress(villageId: $villageId) {
        level
        name
        timer
        type
    }
}

query GetAvailableNewBuildings($input: AvailableNewBuildingsInput!) {
    availableNewBuildings(input: $input) {
        name
        type
    }
}

mutation ClearQueue($villageId: Int!) {
    clearQueue(villageId: $villageId)
}

mutation EnqueueBuilding($input: EnqueueBuildingInput) {
    enqueueBuilding(input: $input)
}

mutation DequeueBuilding($input: QueuedBuildingManipulationInput) {
    dequeueBuilding(input: $input)
}

mutation MoveQueuedBuildingDown($input: QueuedBuildingManipulationInput!) {
    moveQueuedBuildingDown(input: $input)
}

mutation MoveQueuedBuildingUp($input: QueuedBuildingManipulationInput!) {
    moveQueuedBuildingUp(input: $input)
}
